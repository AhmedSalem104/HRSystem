@using HRSystem.Web.Infrastructure.Extensions
@using HRSystem.Web.Infrastructure
@model HRSystem.Web.Models.UserViewModel


@Html.HiddenFor(model => model.Id)
@Html.HiddenFor(model => model.IsDeleted)
@if (Model.Date != null)
{
    <input id="Datee" hidden value="@Model.Date">
    <input id="ToDatee" hidden value="@Model.ToDate">

}

else
{
    <input id="Datee" hidden value="1">
    <input id="ToDatee" hidden value="1">



}

<div class="form-group row">


    <label class="col-md-2 label-control">
        اسم الدخول <span class="text-danger">*</span>
    </label>
    <div class="col-md-3">
        @Html.TextBoxFor(model => model.Code, new { @class = "form-control " })

        @Html.ValidationMessageFor(model => model.Code, "", new { @class = "text-danger" })
    </div>
    <label class="col-md-2 label-control">
        أسم الموظف <span class="text-danger">*</span>
    </label>
    <div class="col-md-3">
        @Html.DropDownListFor(model => model.EmployeeId, (IEnumerable
               <SelectListItem>)ViewData["Emps"], "---اختار---", new { @class = "form-control " })
        @Html.ValidationMessageFor(model => model.EmployeeId, "", new { @class = "text-danger" })
    </div>
</div>



<div class="form-group row">


    <label class="col-md-2 label-control">
        أسم المجموعة <span class="text-danger">*</span>
    </label>
    <div class="col-md-3">
        @Html.DropDownListFor(model => model.GroupId, (IEnumerable
                  <SelectListItem>)ViewData["Group"], "---اختار---", new { @class = "form-control " })
        @Html.ValidationMessageFor(model => model.GroupId, "", new { @class = "text-danger" })
    </div>

</div>



<div class="form-group row">

    <label class="col-md-2 label-control">
        تاريخ الإنشاء
    </label>
    <div class="col-md-3">

        @Html.TextBoxFor(model => model.Date, new { @class = "form-control ", type = "date" })

    </div>
    <label class="col-md-2 label-control">
        اسم المستخدم عربى
    </label>
    <div class="col-md-3">
        @Html.TextBoxFor(model => model.ArbDescription, new { @class = "form-control " })

    </div>

</div>
<div class="form-group row">


    <label class="col-md-2 label-control">
        إلى تاريخ
    </label>
    <div class="col-md-3">
        @Html.TextBoxFor(model => model.ToDate, new { @class = "form-control ", type = "date" })


    </div>

    <label class="col-md-2 label-control">
        أسم المستخدم أنجليزى
    </label>
    <div class="col-md-3">
        @Html.TextBoxFor(model => model.EngDescription, new { @class = "form-control " })
        @Html.ValidationMessageFor(model => model.EngDescription, "", new { @class = "text-danger" })


    </div>
</div>


<div class="form-group row">



    <label class="col-md-2 label-control">
        الرقم السرى
    </label>
    <div class="col-md-3">

        @Html.TextBoxFor(model => model.Password, new { @class = "form-control ", @type = "password" })
        @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })


    </div>
    <label class="col-md-2 label-control">
        نشط
    </label>
    <div class="col-md-3">

        @Html.CheckBox("IsActive", new { @class = "form-control " })


    </div>
</div>


<div class="form-group row">



    <label class="col-md-2 label-control">
        الصورة
    </label>
    <div class="col-md-3">

        @Html.TextBoxFor(model => model.Image, new { @class = "form-control ", @type = "file" })


    </div>


</div>


<script type="text/javascript">

   

    $(document).ready(function () {
        if ($("#Datee").val() == 1) {     
            var date = new Date();

            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            if (month < 10) month = "0" + month;
            if (day < 10) day = "0" + day;

            var today = year + "-" + month + "-" + day;
            $("#Date").attr("value", today);
        }

        else {
            var date = new Date($("#Datee").val());
            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            if (month < 10) month = "0" + month;
            if (day < 10) day = "0" + day;

            var today = year + "-" + month + "-" + day;
            $("#Date").attr("value", today);
        }

        if ($("#ToDatee").val() == 1) {
            var date = new Date();

            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            if (month < 10) month = "0" + month;
            if (day < 10) day = "0" + day;

            var today = year + "-" + month + "-" + day;
            $("#ToDate").attr("value", today);
        }

        else {
            var date = new Date($("#ToDatee").val());

            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            if (month < 10) month = "0" + month;
            if (day < 10) day = "0" + day;

            var today = year + "-" + month + "-" + day;
            $("#ToDate").attr("value", today);
        }
    });



    


</script>